<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SA Smart Traffic Verification - Full Feature</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .step-content { display: none; }
        .step-content.active { display: block; }
        .sa-green { background-color: #007a4d; }
        .sa-gold { background-color: #ffb81c; }
        .status-pill { padding: 2px 8px; border-radius: 12px; font-size: 0.75rem; font-weight: bold; }
    </style>
</head>
<body class="bg-slate-50 font-sans antialiased pb-10">

    <header class="sa-green text-white p-4 shadow-lg sticky top-0 z-50 flex justify-between items-center">
        <div>
            <h1 class="font-bold text-lg leading-tight">RTMC ENFORCER</h1>
            <div class="flex items-center gap-2">
                <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
                <span class="text-[10px] uppercase tracking-wider">NaTIS Live Link</span>
            </div>
        </div>
        <div class="text-right">
            <p class="text-xs opacity-80">Insp. Sithole</p>
            <p class="text-[10px] font-mono">Unit: GP-JMPD-442</p>
        </div>
    </header>

    <main class="max-w-md mx-auto p-4">
        
        <section id="step-1" class="step-content active">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                <h2 class="text-xl font-bold mb-1">Officer Authentication</h2>
                <p class="text-gray-500 text-sm mb-6">Biometric or PIN access required</p>
                <div class="space-y-4">
                    <input type="text" placeholder="Force Number" class="w-full border p-4 rounded-xl">
                    <div class="grid grid-cols-4 gap-2 mb-4">
                        <div class="h-12 border-2 border-green-600 rounded-lg flex items-center justify-center font-bold text-xl">‚Ä¢</div>
                        <div class="h-12 border-2 border-green-600 rounded-lg flex items-center justify-center font-bold text-xl">‚Ä¢</div>
                        <div class="h-12 border-2 border-gray-200 rounded-lg"></div>
                        <div class="h-12 border-2 border-gray-200 rounded-lg"></div>
                    </div>
                    <button onclick="nextStep(2)" class="w-full sa-green text-white py-4 rounded-xl font-bold shadow-md">Login to Shift</button>
                </div>
            </div>
        </section>

        <section id="step-2" class="step-content">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 text-center">
                <div class="w-16 h-16 sa-green/10 text-green-700 rounded-full flex items-center justify-center mx-auto mb-4">üìç</div>
                <h2 class="text-xl font-bold">New Patrol Stop</h2>
                <p class="text-gray-500 text-sm mb-6">Midrand, Gauteng (N1 Northbound)</p>
                <button onclick="nextStep(3)" class="w-full sa-green text-white py-4 rounded-xl font-bold">Initiate Enforcement Stop</button>
            </div>
        </section>

        <section id="step-3" class="step-content">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                <h2 class="text-xl font-bold mb-4">Scan License</h2>
                <div class="aspect-[3/2] bg-black rounded-xl relative overflow-hidden mb-6 flex items-center justify-center">
                    <div class="absolute border-2 border-white/50 w-4/5 h-3/5 rounded-lg"></div>
                    <p class="text-white text-xs z-10">Align Card QR Code</p>
                </div>
                <button onclick="simulateScan()" id="scan-btn" class="w-full bg-blue-600 text-white py-4 rounded-xl font-bold">Access NaTIS Records</button>
            </div>
        </section>

        <section id="step-4" class="step-content">
            <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="sa-green p-4 flex items-center gap-4">
                    <div class="w-16 h-16 bg-gray-300 rounded-lg border-2 border-white"></div>
                    <div class="text-white">
                        <h3 class="font-bold uppercase leading-none">Moloi, Thabo</h3>
                        <p class="text-[10px]">ID: 850101 5000 081</p>
                    </div>
                </div>
                <div class="p-6 space-y-4">
                    <div class="flex justify-between items-center">
                        <span class="text-gray-500 text-sm">Auth Status</span>
                        <span class="status-pill bg-green-100 text-green-700 uppercase">Authentic</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-500 text-sm">Expiry Date</span>
                        <span class="status-pill bg-orange-100 text-orange-700 uppercase">Expires in 14 Days</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-500 text-sm">License Code</span>
                        <span class="font-bold text-gray-800">CODE B (Light Motor Vehicle)</span>
                    </div>
                    <button onclick="nextStep(8)" class="w-full sa-green text-white py-4 rounded-xl font-bold mt-4">Confirm Identity & Continue</button>
                </div>
            </div>
        </section>

        <section id="step-8" class="step-content">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                <h2 class="text-xl font-bold mb-4">Vehicle Category</h2>
                <div class="grid grid-cols-2 gap-4">
                    <button onclick="setVehicle('Private', true)" class="border-2 border-gray-100 p-4 rounded-xl hover:border-green-600 flex flex-col items-center">
                        <span class="text-2xl mb-2">üöó</span>
                        <span class="text-xs font-bold uppercase">Private</span>
                    </button>
                    <button onclick="setVehicle('Minibus Taxi', false)" class="border-2 border-gray-100 p-4 rounded-xl hover:border-green-600 flex flex-col items-center">
                        <span class="text-2xl mb-2">üöê</span>
                        <span class="text-xs font-bold uppercase">Taxi</span>
                    </button>
                </div>
            </div>
        </section>

        <section id="step-9" class="step-content">
            <div id="outcome-container" class="space-y-4">
                </div>
        </section>

        <section id="step-11" class="step-content">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 mb-4">
                <h2 class="text-lg font-bold mb-4">Shift Statistics (Today)</h2>
                <div class="grid grid-cols-2 gap-4 text-center">
                    <div class="bg-slate-50 p-4 rounded-xl">
                        <p class="text-2xl font-bold text-green-700">12</p>
                        <p class="text-[10px] text-gray-500 uppercase">Compliant</p>
                    </div>
                    <div class="bg-slate-50 p-4 rounded-xl">
                        <p class="text-2xl font-bold text-red-600">3</p>
                        <p class="text-[10px] text-gray-500 uppercase">Fines Issued</p>
                    </div>
                </div>
            </div>
            <div class="bg-white p-4 rounded-2xl shadow-sm border border-gray-100">
                <h3 class="text-sm font-bold mb-3 uppercase text-gray-400">Recent Logs</h3>
                <div class="space-y-3 text-xs">
                    <div class="flex justify-between border-b pb-2"><span>11:05 AM - Moloi, T</span><span class="text-green-600">PASSED</span></div>
                    <div class="flex justify-between border-b pb-2"><span>10:42 AM - Dlamini, S</span><span class="text-red-600">FINED (EXP)</span></div>
                </div>
            </div>
            <button onclick="location.reload()" class="w-full mt-6 sa-green text-white py-4 rounded-xl font-bold">End Shift / New Stop</button>
        </section>

    </main>

    <script>
        function nextStep(stepNum) {
            document.querySelectorAll('.step-content').forEach(s => s.classList.remove('active'));
            document.getElementById(`step-${stepNum}`).classList.add('active');
            window.scrollTo(0,0);
        }

        function simulateScan() {
            const btn = document.getElementById('scan-btn');
            btn.innerHTML = `<span class="animate-spin inline-block mr-2">‚Üª</span> Querying Natis...`;
            btn.disabled = true;
            setTimeout(() => nextStep(4), 1200);
        }

        function setVehicle(type, isCompliant) {
            const container = document.getElementById('outcome-container');
            if(isCompliant) {
                container.innerHTML = `
                    <div class="bg-white p-8 rounded-2xl text-center shadow-lg border-t-8 border-green-500">
                        <div class="text-5xl mb-4">‚úÖ</div>
                        <h2 class="text-2xl font-bold">STOP COMPLIANT</h2>
                        <p class="text-sm text-gray-500 mb-6">License Code B matches Private Vehicle category.</p>
                        <button onclick="nextStep(11)" class="w-full sa-green text-white py-4 rounded-xl font-bold">Log & Clear Stop</button>
                    </div>`;
            } else {
                container.innerHTML = `
                    <div class="bg-white p-6 rounded-2xl shadow-lg border-t-8 border-red-500">
                        <h2 class="text-xl font-bold text-red-600 mb-2">NON-COMPLIANCE DETECTED</h2>
                        <p class="text-sm text-gray-600 mb-6 font-medium">Driver (Code B) is not authorized to operate a ${type}. (NRTA Sec 12)</p>
                        
                        <div class="space-y-3 mb-6">
                            <label class="block text-xs font-bold text-gray-400 uppercase">Enforcement Action</label>
                            <button onclick="nextStep(11)" class="w-full bg-red-600 text-white py-3 rounded-lg text-sm font-bold">Issue AARTO Fine (R1,250)</button>
                            <button onclick="nextStep(11)" class="w-full bg-orange-500 text-white py-3 rounded-lg text-sm font-bold">Issue Written Warning</button>
                            <button onclick="nextStep(11)" class="w-full bg-slate-800 text-white py-3 rounded-lg text-sm font-bold">Request Vehicle Impound</button>
                        </div>
                        
                        <div class="border-2 border-dashed border-gray-200 p-4 rounded-lg text-center">
                            <p class="text-[10px] text-gray-400 mb-2">DRIVER ACKNOWLEDGEMENT SIGNATURE</p>
                            <div class="h-20 bg-gray-50"></div>
                        </div>
                    </div>`;
            }
            nextStep(9);
        }
    </script>
</body>
</html>
